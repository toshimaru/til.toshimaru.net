---
title: 2021-06-12 Makefile の@(アットマーク), -(ハイフン)
last_modified_at: 2021-11-27
---

Makefile に出てくる アットマーク（`@`）とハイフン（`-`）の意味について調べた。

## 通常実行

まずは下記の Makefile に通常通り`cmd1`というコマンドを定義する。

```makefile
cmd1:
	echo 'hello world'
```

**※ インデントはスペースではなく Tab を使うことに注意**

### 実行結果

```bash
$ make cmd1
echo 'hello world'
hello world
```

## `@` アットマーク

`@` はコマンド自身を標準出力しないという意味。

```makefile
cmd2:
	@echo 'hello world'
```

### 実行結果

```bash
$ make cmd2
hello world
```

## `-` ハイフン

`-` はエラーを無視するという意味。

```makefile
cmd3:
	invalid_command
	echo 'invalid?'
cmd4:
	-invalid_command
	echo 'invalid?'
```

### 実行結果

不正なコマンドが入っているときにエラーで終了する。

```bash
$ make cmd3
invalid_command
make: invalid_command: No such file or directory
make: *** [cmd3] Error 1
```

`-`を付けると不正なコマンドであっても無視することができる。

```bash
$ make cmd4
invalid_command
make: invalid_command: No such file or directory
make: [cmd4] Error 1 (ignored)
echo 'invalid?'
invalid?
```

## 参考

[Makefile の "-@" (ハイフン、アット) ってなんですか？ - quwaharaの日記](https://quwahara.hatenablog.com/entry/2012/02/13/201713)
